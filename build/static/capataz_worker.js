//! capataz 0.1.5
!function(self){"use strict";self.onmessage=function(a){var b=JSON.parse(a.data);b.error="Worker is not ready yet.",self.postMessage(JSON.stringify(b))},importScripts("require.js"),require(["creatartis-base"],function(base){self.base=base;var CODE='(function () {"use strict";\n\treturn base.Future.imports.apply(this, $imports).then(function (deps) {\n\t\treturn ($fun).apply(this, deps.concat($args));\n\t});\n})()';self.onmessage=function onmessage(msg){var data=JSON.parse(msg.data),code=CODE.replace("$imports",JSON.stringify(data.imports||[])).replace("$fun",data.fun).replace("$args",JSON.stringify(data.args||[]));base.Future.invoke(eval,self,code).then(function(a){data.result=a,self.postMessage(JSON.stringify(data))},function(a){data.error='Execution failed with "'+a+'"!\nCode:\n'+code+"\nCallstack:\n\t"+base.callStack(a).join("\n\t"),self.postMessage(JSON.stringify(data))})},self.postMessage("Ready")})}(self);